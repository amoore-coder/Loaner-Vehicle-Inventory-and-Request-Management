<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic">
    <sys_cb_topic action="INSERT_OR_UPDATE">
        <applicability/>
        <applicability_mode>query</applicability_mode>
        <autopilot_topic>false</autopilot_topic>
        <category/>
        <channels/>
        <connect_queue/>
        <context_profiles/>
        <description/>
        <dialog_acts_enabled>false</dialog_acts_enabled>
        <expose_on_palette>false</expose_on_palette>
        <flexible_conversation_switching>true</flexible_conversation_switching>
        <foundational>false</foundational>
        <graph>{"graph_api_version":"1.0.65","variables":{"83ae18ffb27f402c9459e1289de24992":{"category":"vaInputs","id":"83ae18ffb27f402c9459e1289de24992","label":"User","name":"user","table":"sys_user","varType":"reference"},"49cf5fd8602b4eeea3290669b10145d3":{"id":"49cf5fd8602b4eeea3290669b10145d3","name":"sysid","label":"SysId","defaultValue":"","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"input"},"nodeId":"5206748b5e0040f9b19c6be88e775978","isHidden":false},"0d8cc5fa1a2e4c5caf9fcc0f89bc5f2e":{"id":"0d8cc5fa1a2e4c5caf9fcc0f89bc5f2e","name":"table","label":"Table","defaultValue":"","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"input"},"nodeId":"5206748b5e0040f9b19c6be88e775978","isHidden":false},"593ca0c712f540e49a5c5cf0ef43936d":{"id":"593ca0c712f540e49a5c5cf0ef43936d","name":"view","label":"View","defaultValue":"","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"input"},"nodeId":"5206748b5e0040f9b19c6be88e775978","isHidden":false},"a89d63a1b7d84774a25ae906d85ef74f":{"id":"a89d63a1b7d84774a25ae906d85ef74f","name":"form_choice_list","label":"Form_choice_list","varType":"reference","table":"","category":"vaInputs","nodeId":"0b31a24c9fb74f7192ac8cb43876902e","isHidden":false},"faefc9312a7c40fd9f5144841cca2100":{"id":"faefc9312a7c40fd9f5144841cca2100","value":{"mode":"script","value":"(function execute() {\n    return vaVars.newRecordSysId;\n})()\n"},"name":"newRecordSysId","label":"newRecordSysId","varType":"script","category":"vaVars"},"157f043185ce4f91b77c1a16d15153b0":{"id":"157f043185ce4f91b77c1a16d15153b0","value":{"mode":"script","value":"(function execute() {\n    /* return 'a default value'; */\n    return '';\n})()\n"},"name":"table_name","label":"table_name","varType":"script","category":"vaVars"}},"goals":{"primary":{"id":"primary","trigger":{"type":"primary"},"name":"primary","applicability":"","description":"","nodes":{"5206748b5e0040f9b19c6be88e775978":{"id":"5206748b5e0040f9b19c6be88e775978","stepType":"Start","name":"Start","greetingResponse":{"mode":"simple","value":""},"parameters":[{"type":"String","value":"","id":"49cf5fd8602b4eeea3290669b10145d3","name":"sysId","required":true,"referenced":true,"disabled":true},{"type":"String","value":"","id":"0d8cc5fa1a2e4c5caf9fcc0f89bc5f2e","name":"table","required":true,"referenced":true,"disabled":true},{"type":"String","value":"","id":"593ca0c712f540e49a5c5cf0ef43936d","name":"view","referenced":false,"disabled":true}],"variableIds":["49cf5fd8602b4eeea3290669b10145d3","0d8cc5fa1a2e4c5caf9fcc0f89bc5f2e","593ca0c712f540e49a5c5cf0ef43936d"]},"cdcea8b2548941cebbdba8a5ab88ddae":{"id":"cdcea8b2548941cebbdba8a5ab88ddae","stepType":"TerminateGoal","name":"End","confirmationMessage":{"mode":"simple","value":""}},"3f3dc77dd21943c5863e1cef6a5e68c6":{"id":"3f3dc77dd21943c5863e1cef6a5e68c6","stepType":"LinkOutput","name":"Form Link Component","url":{"value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessageLang(\"hi there {0}\", vaContext.getRequesterLang(), [vaInputs.first_name]);\n       } else {\n           return gs.getMessageLang(\"how are you {0}\", vaContext.getRequesterLang(), [vaInputs.last_name]);\n       }\n    */\n    \n    var uibLink = gs.getProperty(\"glide.servlet.uri\")+ \"now/virtual-agent/content/forms/\"+ vaInputs.sysid + \"/\" + vaInputs.table + \"/\"+ vaSystem.getConversationId()+\"/\"+vaSystem.getConversationTaskId()+\"/\"+ vaSystem.getSessionIdOnConversation() + \"/form_choice_list\";\n    \n    if (vaInputs.view) { \n        return uibLink + \"/params/view/\" + vaInputs.view; \n    }\n\n    if(!gs.isLoggedIn()){\n        if (vaInputs.view) { \n            return uibLink + \"/guestSessionIdentifier/\" + vaSystem.getGuestSessionIdentifier();\n        }\n        return uibLink + \"/params/guestSessionIdentifier/\"+ vaSystem.getGuestSessionIdentifier();\n    }\n    return uibLink;\n\n    \n})()\n","mode":"script"},"label":{"value":[{"type":"paragraph","children":[{"text":"Click on this link"}]}],"mode":"simple"},"header":{"value":[{"type":"paragraph","children":[{"text":"Submit your form here: "}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"0b31a24c9fb74f7192ac8cb43876902e":{"stepType":"ReferenceChoicePrompt","name":"form_choice_list","prompt":{"value":[{"type":"paragraph","children":[{"text":"What would you like to do? "}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"value":"","mode":"query"},"skippable":{"value":"","mode":"query"},"defaultValue":{"value":"","mode":"simple"},"variableId":"a89d63a1b7d84774a25ae906d85ef74f","id":"0b31a24c9fb74f7192ac8cb43876902e","mode":"external","script":"(function execute() {\n    /* Code your script logic here. For example, you might want to call an external web service\n       to find the best local Italian restaurants.  Call a Restaurants Web Service then use the results\n       to populate an options array.\n\n        var options = [];\n        options.push({ 'value': 'best_italian_1', 'label': gs.getMessageLang(\"Best Italian Restaurant Ever\", vaContext.getRequesterLang()), 'render_style': 'data' });\n        options.push({ 'value': 'best_italian_2', 'label': gs.getMessageLang(\"Even Better Italian Restaurant\", vaContext.getRequesterLang()), 'render_style': 'data' });\n        return options;\n    */\n\n    var options = []; // add options here...\n    options.push({'value': 'form_choice_1', 'label' : gs.getMessageLang(\"I don't want to fill out the form.\", vaContext.getRequesterLang()), 'render_style': 'data'});\n    options.push({'value': 'form_choice_2', 'label' : gs.getMessageLang(\"I'm done.\", vaContext.getRequesterLang()), 'render_style': 'data'});\n    return options;\n})()\n","metadataScript":"","cardData":{},"noRecordsResponseMsg":{"value":[{"type":"paragraph","children":[{"text":"Can't find records. "}]}],"mode":"simple"},"condition":{"value":"(function execute() {\n    /* Code your script logic here. For example, you might want to call an external web service\n       to find the best local Italian restaurants.  Call a Restaurants Web Service then use the results\n       to populate an options array.\n\n        var options = [];\n        options.push({ 'value': 'best_italian_1', 'label': gs.getMessageLang(\"Best Italian Restaurant Ever\", vaContext.getRequesterLang()), 'render_style': 'data' });\n        options.push({ 'value': 'best_italian_2', 'label': gs.getMessageLang(\"Even Better Italian Restaurant\", vaContext.getRequesterLang()), 'render_style': 'data' });\n        return options;\n    */\n\n    var options = []; // add options here...\n    options.push({'value': 'form_choice_1', 'label' : gs.getMessageLang(\"I don't want to fill out the form.\", vaContext.getRequesterLang()), 'render_style': 'data'});\n    options.push({'value': 'form_choice_2', 'label' : gs.getMessageLang(\"I'm done.\", vaContext.getRequesterLang()), 'render_style': 'data'});\n    return options;\n})()\n","mode":"external_script"},"hasCardHeader":false,"cardMetadata":{"mode":"card","metadataScript":"","cardTemplate":"","cardFields":{},"cardDefinition":{}},"withNluUserInput":false,"skipIfFulfilled":false,"skipReprompt":{"value":"","mode":"query"},"detailDescription":""},"f2b77953887941ecbcb29b432b5da620":{"id":"f2b77953887941ecbcb29b432b5da620","name":"Accept UIB Page Responses","script":"(function execute() {\n   vaSystem.acceptUIBMessages(true, \"form_choice_list\");\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"0291d09eeaee4b079412cab7891b0462":{"id":"0291d09eeaee4b079412cab7891b0462","name":"Disable UIB Page Responses","script":"(function execute() {\n    vaSystem.acceptUIBMessages(false, \"form_choice_list\");\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"be864c8a22b443cf94c8a88d555eee9d":{"id":"be864c8a22b443cf94c8a88d555eee9d","stepType":"Decision","name":"Decision"},"d2bbee5b7b184bdda5187acf260df958":{"id":"d2bbee5b7b184bdda5187acf260df958","stepType":"TextOutput","name":"I'm done. ","secure":false,"value":[{"value":[{"type":"paragraph","children":[{"text":"I understand you don't want to fill out the form at this time. Feel free to reach out to the Live Agent at any time."}]}],"mode":"simple","_key":"0c30918635eb401ba3381cfee6897c0b"}],"applicability":{"value":"","mode":"query"},"requestFeedback":true},"5db7c74a40b74c8bb5e4d21e3cc53555":{"id":"5db7c74a40b74c8bb5e4d21e3cc53555","stepType":"Decision","name":"Decision"},"9b5dcc266c3b471d82caca269f55c803":{"id":"9b5dcc266c3b471d82caca269f55c803","stepType":"ScriptOutput","name":"Record Card","output_type":"single_part","script":"(function execute() {\n    vaVars.table_name = vaInputs.table;    \n\n    var title = '';\n    var subtitle = '';\n    var fields = [];\n\n    var gr = new GlideRecord(vaVars.table_name);\n    gr.addQuery('sys_id', vaVars.newRecordSysId);\n    gr.query();\n    title = gr.getClassDisplayValue();\n    if (gr.next()) {\n        subtitle = gr.getDisplayValue();\n\n        if (gr.isValidField('short_description') &amp;&amp; gr.getValue('short_description')) {\n            fields.push({\n                \"fieldLabel\": gs.getMessageLang(gr.getElement('short_description').getLabel(), vaContext.getRequesterLang()),\n                \"fieldValue\": gr.getDisplayValue('short_description').toString()\n            });\n        } else if (gr.isValidField('description') &amp;&amp; gr.getValue('description')) {\n            fields.push({\n                \"fieldLabel\": gs.getMessageLang(gr.getElement('description').getLabel(), vaContext.getRequesterLang()),\n                \"fieldValue\": gr.getDisplayValue('description').toString()\n            });\n        }\n\n        if (gr.isValidField('state') &amp;&amp; gr.getValue('state')) {\n            fields.push({\n                \"fieldLabel\": gs.getMessageLang(gr.getElement('state').getLabel(), vaContext.getRequesterLang()),\n                \"fieldValue\": gr.getDisplayValue('state').toString()\n            });\n        }\n    }\n\n    var card_data = JSON.stringify({\n        \"title\": title,\n        \"subtitle\": subtitle,\n        \"fields\": fields,\n        \"table_name\": vaVars.table_name,\n        \"sys_id\": vaVars.newRecordSysId\n    });\n    return vaSystem.renderCard(\"Card\", card_data);\n})()","applicability":{"value":"","mode":"query"}},"9ddb1e609e124db994d49e662930f816":{"id":"9ddb1e609e124db994d49e662930f816","stepType":"TextOutput","name":"Request complete message","secure":false,"value":[{"value":[{"type":"paragraph","children":[{"text":"Your request has been submitted. Here are the details:"}]}],"mode":"simple","_key":"e66eb783413a492d8f88fd5739c45b25"}],"applicability":{"value":"","mode":"query"},"requestFeedback":true}},"edges":[{"id":"fe2a4f611ec84326922d8ce5405a213d","edgeType":"Branch","source":"5db7c74a40b74c8bb5e4d21e3cc53555","target":"9ddb1e609e124db994d49e662930f816","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return vaVars.newRecordSysId != null;\n})()\n"},"label":"Record created"},{"id":"4abc41538f4740beb7c8683a0936cef8","edgeType":"Edge","source":"9b5dcc266c3b471d82caca269f55c803","target":"cdcea8b2548941cebbdba8a5ab88ddae","sourcePort":"","targetPort":""},{"id":"66a498ebe4794708914417b51cb2dba3","edgeType":"Branch","source":"5db7c74a40b74c8bb5e4d21e3cc53555","target":"cdcea8b2548941cebbdba8a5ab88ddae","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return vaVars.newRecordSysId == null;\n})()\n"},"label":"Record not created"},{"id":"c8909d2335f64e2b9ba6ee565e6d06fa","edgeType":"Edge","source":"0291d09eeaee4b079412cab7891b0462","target":"be864c8a22b443cf94c8a88d555eee9d","sourcePort":"","targetPort":""},{"id":"3150a4a90ef64a549f7d8490be9dab91","edgeType":"Edge","source":"5206748b5e0040f9b19c6be88e775978","target":"3f3dc77dd21943c5863e1cef6a5e68c6","sourcePort":"","targetPort":""},{"id":"dff81c80a7614175bd74e1a8e64d653d","edgeType":"Edge","source":"3f3dc77dd21943c5863e1cef6a5e68c6","target":"f2b77953887941ecbcb29b432b5da620","sourcePort":"","targetPort":""},{"id":"74298b546aec447d88660a093364ac3a","edgeType":"Edge","source":"f2b77953887941ecbcb29b432b5da620","target":"0b31a24c9fb74f7192ac8cb43876902e","sourcePort":"","targetPort":""},{"id":"955ae649ffa543e7a25c3dd6d3faf17c","edgeType":"Edge","source":"0b31a24c9fb74f7192ac8cb43876902e","target":"0291d09eeaee4b079412cab7891b0462","sourcePort":"","targetPort":""},{"id":"d07aeb996c9d4901bbed6dd132789adb","edgeType":"Branch","source":"be864c8a22b443cf94c8a88d555eee9d","target":"d2bbee5b7b184bdda5187acf260df958","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n      return vaInputs.form_choice_list != \"form_choice_2\"; \n\n})()\n"},"label":"I'm done. "},{"id":"e1493090192540d2bd353cb75e52e0c0","edgeType":"Edge","source":"d2bbee5b7b184bdda5187acf260df958","target":"cdcea8b2548941cebbdba8a5ab88ddae","sourcePort":"","targetPort":""},{"id":"26e8a9ef138e410d824e1e928ff31013","edgeType":"Branch","source":"be864c8a22b443cf94c8a88d555eee9d","target":"5db7c74a40b74c8bb5e4d21e3cc53555","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n      return vaInputs.form_choice_list == \"form_choice_2\"; \n\n})()\n"},"label":"Completed"},{"id":"73534476d080484facc045e05234e53f","edgeType":"Edge","source":"9ddb1e609e124db994d49e662930f816","target":"9b5dcc266c3b471d82caca269f55c803","sourcePort":"","targetPort":""}]}}}</graph>
        <key_phrases/>
        <library>true</library>
        <live_agent>false</live_agent>
        <model_type>nlu_keyword</model_type>
        <modify_confirmation_enabled>false</modify_confirmation_enabled>
        <name>FleetFlex Conversation Builder</name>
        <nlu_intent/>
        <nlu_intent_label/>
        <nlu_model/>
        <nlu_model_label/>
        <nlu_provider/>
        <palette_label/>
        <roles/>
        <root_topic_id>bcc89c0277320110768bc6438c5a9902</root_topic_id>
        <secure_custom_input_control>false</secure_custom_input_control>
        <source_topic_id>bcc89c0277320110768bc6438c5a9902</source_topic_id>
        <sys_class_name>sys_cb_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-09-12 16:12:53</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>66a8c4ea83e012106d3e5e20ceaad321</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FleetFlex Conversation Builder</sys_name>
        <sys_package display_value="Loaner Vehicle Request and Inventory" source="x_1394653_lva">70213161833302106d3e5e20ceaad332</sys_package>
        <sys_policy/>
        <sys_scope display_value="Loaner Vehicle Request and Inventory">70213161833302106d3e5e20ceaad332</sys_scope>
        <sys_update_name>sys_cb_topic_66a8c4ea83e012106d3e5e20ceaad321</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-09-12 16:12:53</sys_updated_on>
        <triggerable_by_notification>false</triggerable_by_notification>
        <type>TOPIC_BLOCK</type>
    </sys_cb_topic>
    <sys_translated_text action="delete_multiple" query="documentkey=66a8c4ea83e012106d3e5e20ceaad321"/>
</record_update>
